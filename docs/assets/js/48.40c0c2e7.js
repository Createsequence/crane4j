(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{324:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"链式操作符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链式操作符"}},[s._v("#")]),s._v(" 链式操作符")]),s._v(" "),t("p",[t("code",[s._v("crane4j")]),s._v(" 支持在 "),t("code",[s._v("@Mapping")]),s._v(" 中以类似 js 的链式操作符的方式访问和设置嵌套对象的属性。")]),s._v(" "),t("p",[s._v("比如，现在我们有 "),t("code",[s._v("Foo")]),s._v(" 类如下：")]),s._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("FooVO")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Assemble")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("contaienr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" props "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Mapping")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("src "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ref "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"nseted.name"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NestedFoo")]),s._v(" nseted"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("NestedFoo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Foo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),t("p",[s._v("我们声明了一个装配操作，假设 "),t("code",[s._v("foo")]),s._v(" 容器将返回 "),t("code",[s._v("Foo")]),s._v(" 作为数据源对象，则上述示例表示，获得 "),t("code",[s._v("Foo")]),s._v(" 以后，将 "),t("code",[s._v("Foo.name")]),s._v(" 映射到 "),t("code",[s._v("FooVO")]),s._v(" 中，"),t("code",[s._v("nested")]),s._v(" 属性对应的嵌套对象 "),t("code",[s._v("NestedFoo")]),s._v(" 的 "),t("code",[s._v("name")]),s._v(" 属性。")]),s._v(" "),t("p",[s._v("除了属性映射外，该功能理论上适用于"),t("strong",[s._v("所有具备属性访问功能的配置项")]),s._v("，包括且不限于：")]),s._v(" "),t("ul",[t("li",[s._v("类级别的配置注解，比如 "),t("code",[s._v("@Assemble")]),s._v(" 的 "),t("code",[s._v("key")]),s._v(" 属性；")]),s._v(" "),t("li",[s._v("自动填充注解 "),t("code",[s._v("@AutoOperate")]),s._v(" 中的 "),t("code",[s._v("on")]),s._v(" 属性；")]),s._v(" "),t("li",[s._v("方法数据源容配置中对方法调用结果进行分组的 "),t("code",[s._v("key")]),s._v(" 字段，比如 "),t("code",[s._v("@ContainerMethod")]),s._v(" 的 "),t("code",[s._v("resultKey")]),s._v(" 属性；")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("TIP")]),s._v(" "),t("p",[s._v("该功能基于 "),t("code",[s._v("ChainAccessiblePropertyOperator")]),s._v(" 包装类实现，如果用户替换了默认的 "),t("code",[s._v("PropertyOperator")]),s._v(" ，则需要手动的再用它包装一下用户的实现。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);