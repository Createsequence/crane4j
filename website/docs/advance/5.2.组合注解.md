## 组合注解

出于代码的整洁，有时候如果要映射的字段特别多，或者相同的注解配置需要反复使用，推荐使用组合注解：

~~~java
// 将目标注解作为元注解
@Assemble(key = "id", container = "student", props = @Mapping(src = "studentName", ref = "name"))
@Documented
@Target({ElementType.ANNOTATION_TYPE, ElementType.FIELD})
@Retention(RetentionPolicy.RUNTIME)
public @interface AssembleStudent { }
~~~

然后直接使用合成注解 `@AssembleStudent` 代替原本的一大坨：

~~~java
public class Student {
    // 直接使用合成注解
    @AssembleStudent
    private Integer id;
    private String name;
}
~~~

该功能基于 `Spring` 的 `MergeAnnotation` 实现，遵循 `Spring` 组合注解的语义，在非 `Spring` 环境中不会生效，如有必要，也可以实现 `AnnotationFinder` 接口，去提供类似的功能。

在 `crane4j-annotation` 模块的 `extension` 中提供了一些默认的组合注解，这些注解可以在 spring 环境中生效，若有必要，你也可以通过 `AnnotationFinder` 接口去实现类似的功能，让相关组件支持你定义的注解。

:::warning

注意，不支持解析复数可重复的组合注解，即若 `A` 是可重复注解，则当在一个元素上添加多个 `A` 时，将无法正确解析到该注解。

:::