(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{290:function(a,t,e){"use strict";e.r(t);var s=e(14),n=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("p",[t("code",[a._v("crane4j")]),a._v(" 结合 SpringBoot 的配置系统，提供了一些可选的配置项。")]),a._v(" "),t("h2",{attrs:{id:"_1-3-1-反射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-反射"}},[a._v("#")]),a._v(" 1.3.1.反射")]),a._v(" "),t("h3",{attrs:{id:"_1-3-1-1-是否启用字节码反射"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-1-是否启用字节码反射"}},[a._v("#")]),a._v(" 1.3.1.1.是否启用字节码反射")]),a._v(" "),t("p",[t("code",[a._v("crane4j")]),a._v(" 通过默认引入了基于字节码的反射增强库 "),t("a",{attrs:{href:"https://github.com/EsotericSoftware/reflectasm",target:"_blank",rel:"noopener noreferrer"}},[a._v("ReflectAsm"),t("OutboundLink")],1),a._v(" ，用户可以通过  "),t("code",[a._v("enable-asm-reflect")]),a._v(" 开启反射增强功能：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启用字节码增强")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-asm-reflect")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("默认不开启，开启后可以一定程度上提升字段映射的性能，不过对应的可能会带来额外的内存消耗。")]),a._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[a._v("WARNING")]),a._v(" "),t("p",[a._v("由于兼容性问题，该配置只在 java8 的版本有效。")])]),a._v(" "),t("h3",{attrs:{id:"_1-3-1-2-是否支持处理map对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-2-是否支持处理map对象"}},[a._v("#")]),a._v(" 1.3.1.2.是否支持处理Map对象")]),a._v(" "),t("p",[a._v("是否支持对 "),t("code",[a._v("Map")]),a._v(" 对象进行属性映射，默认为 "),t("code",[a._v("true")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-map-operate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("如果你的项目里面没有填充使用 "),t("code",[a._v("Map")]),a._v(" 或者"),t("code",[a._v("JSONObject")]),a._v(" 的需求，可以关闭它。")]),a._v(" "),t("h3",{attrs:{id:"_1-3-1-3-是否支持链式操作符"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-3-是否支持链式操作符"}},[a._v("#")]),a._v(" 1.3.1.3.是否支持链式操作符")]),a._v(" "),t("p",[a._v("是否支持 "),t("code",[a._v("xx.xx.xx")]),a._v(" 这样的链式操作符，默认为 "),t("code",[a._v("true")]),a._v("：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-chain-operate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("h2",{attrs:{id:"_1-3-2-容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-容器"}},[a._v("#")]),a._v(" 1.3.2.容器")]),a._v(" "),t("h3",{attrs:{id:"_1-3-2-1-扫描常量容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-1-扫描常量容器"}},[a._v("#")]),a._v(" 1.3.2.1.扫描常量容器")]),a._v(" "),t("p",[t("code",[a._v("crane4j")]),a._v(" 支持将常量类也作为数据源适配为容器，因此提供了 "),t("code",[a._v("container-enum-packages")]),a._v(" 配置，用于扫描一个或多个包路径下的枚举，在应用启动后自动注册为容器：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 扫描常量包路径")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container-constant-packages")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" cn.demo.constant."),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#Constant")]),a._v("\n")])])]),t("p",[a._v("关于容器部分，参见"),t("RouterLink",{attrs:{to:"/datasource/2.3.常量容器.html"}},[a._v("常量数据源容器")]),a._v("一节。")],1),a._v(" "),t("h3",{attrs:{id:"_1-3-2-2-扫描枚举容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-2-扫描枚举容器"}},[a._v("#")]),a._v(" 1.3.2.2.扫描枚举容器")]),a._v(" "),t("p",[t("code",[a._v("crane4j")]),a._v(" 支持将枚举也作为数据源适配为容器，因此提供了 "),t("code",[a._v("container-enum-packages")]),a._v(" 配置，用于扫描一个或多个包路径下的枚举，在应用启动后自动注册为容器：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 扫描枚举包路径")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container-enum-packages")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" cn.demo.constant.enums.*\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否只加载被@ContainerEnum注解的枚举")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("only-load-annotated-enum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("关于容器部分，参见"),t("RouterLink",{attrs:{to:"/datasource/2.2.枚举容器.html"}},[a._v("枚举数据源容器")]),a._v("一节。")],1),a._v(" "),t("h3",{attrs:{id:"_1-3-2-3-扫描方法容器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-3-扫描方法容器"}},[a._v("#")]),a._v(" 1.3.2.3.扫描方法容器")]),a._v(" "),t("p",[t("code",[a._v("crane4j")]),a._v(" 支持将被 spring 管理的 "),t("code",[a._v("bean")]),a._v(" 中带有 "),t("code",[a._v("@ContainerMethod")]),a._v(" 方法也适配为容器：")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-method-container")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("默认为 "),t("code",[a._v("true")]),a._v("。")]),a._v(" "),t("h3",{attrs:{id:"_1-3-2-4-容器缓存配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-2-4-容器缓存配置"}},[a._v("#")]),a._v(" 1.3.2.4.容器缓存配置")]),a._v(" "),t("p",[a._v("用户可以通过 "),t("code",[a._v("cache-containers")]),a._v(" 配置为指定的数据源容器添加缓存功能：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 声明哪些数据源需要包装为缓存")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("cache-containers")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("shared-cache")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" testContainer\n")])])]),t("p",[a._v("上述示例表示，在项目启动后，通过 "),t("code",[a._v("CacheManager")]),a._v(" 为命名空间为 "),t("code",[a._v("testContainer")]),a._v(" 的容器挂载缓存空间 "),t("code",[a._v("shared-cache")]),a._v("。")]),a._v(" "),t("h2",{attrs:{id:"_1-3-3-自动填充"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-自动填充"}},[a._v("#")]),a._v(" 1.3.3.自动填充")]),a._v(" "),t("p",[t("code",[a._v("crane4j")]),a._v(" 默认支持自动方法返回值与方法入参，用户也可以通过配置自定义是否关闭该功能：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("  \n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否启用参数自动填充")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-method-argument-auto-operate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 是否启用返回值自动填充")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("enable-method-result-auto-operate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("false")]),a._v("\n")])])]),t("p",[a._v("关于自动填充，参见 "),t("RouterLink",{attrs:{to:"/execute/4.2.自动填充.html"}},[a._v("自动填充")]),a._v(" 一节。")],1),a._v(" "),t("h2",{attrs:{id:"_1-3-4-操作配置预解析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-操作配置预解析"}},[a._v("#")]),a._v(" 1.3.4.操作配置预解析")]),a._v(" "),t("p",[a._v("由于操作配置对象 "),t("code",[a._v("BeanOperation")]),a._v(" 皆由对应的 "),t("code",[a._v("Class")]),a._v(" 解析而来，因此若解析器具备缓存功能，可以通过 "),t("code",[a._v("operate-entity-packages")]),a._v(" 配置实体类包路径，在执行器进行预解析，从而在后续调用时略过配置解析步骤，加快执行速度：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 操作配置预解析")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("operate-entity-packages")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" cn.crane4j.springboot.config.*\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);