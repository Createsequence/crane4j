(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{313:function(a,t,s){"use strict";s.r(t);var e=s(14),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"注册mapper"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#注册mapper"}},[a._v("#")]),a._v(" 注册Mapper")]),a._v(" "),t("p",[t("strong",[a._v("懒加载")])]),a._v(" "),t("p",[a._v("在 spring 环境中，用户默认不需要进行额外的操作，"),t("code",[a._v("LazyLoadMpBaseMapperContainerRegister")]),a._v(" 会在用户使用时根据 "),t("code",[a._v("beanName")]),a._v(" 自动从 spring 上下文中获得对应的 "),t("code",[a._v("Mapper")]),a._v("，并完成自动注册，即懒加载。")]),a._v(" "),t("p",[t("strong",[a._v("自动注册")])]),a._v(" "),t("p",[a._v("在 spring 环境中，用户也可以指定 "),t("code",[a._v("auto-register-mapper")]),a._v(" 为 "),t("code",[a._v("true")]),a._v(" 开启自动注册，相关配置如下：")]),a._v(" "),t("div",{staticClass:"language-yml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("crane4j")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("mybatis-plus")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("auto-register-mapper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 启动自动注册")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("includes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" xxxMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" xxxMapper "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 仅注册指定 Mapper")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("excludes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" xxxMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" xxxMapper "),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 仅排除指定 Mapper")]),a._v("\n")])])]),t("p",[a._v("在开启自动注册的情况下，spring 上下文中任何符合 "),t("code",[a._v("includes")]),a._v(" 与 "),t("code",[a._v("excludes")]),a._v(" 规则的 "),t("code",[a._v("Mapper")]),a._v(" 都会被注册。")]),a._v(" "),t("p",[t("strong",[a._v("手动注册")])]),a._v(" "),t("p",[a._v("在非 spring 环境中，或者在 spring 中但是特定的需求，用户也可以获取 "),t("code",[a._v("MpBaseMapperContainerRegister")]),a._v(" 进行手动注册：")]),a._v(" "),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MpBaseMapperContainerRegister")]),a._v(" register "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("SpringUtil")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("getBean")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("MpBaseMapperContainerRegister")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nregister"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("registerMapper")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"xxxMapper"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" xxxMapper"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);