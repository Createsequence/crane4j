(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{290:function(e,v,t){"use strict";t.r(v);var r=t(14),_=Object(r.a)({},(function(){var e=this,v=e._self._c;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"类型转换器"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#类型转换器"}},[e._v("#")]),e._v(" 类型转换器")]),e._v(" "),v("p",[e._v("在 "),v("code",[e._v("crane4j")]),e._v(" 中有不少需要通过反射调用有参方法的场景，包括且不限于：")]),e._v(" "),v("ul",[v("li",[e._v("在字段映射时调用的 "),v("code",[e._v("setter")]),e._v(" 方法；")]),e._v(" "),v("li",[e._v("从方法数据源容器调用适配方法以获取数据源；")]),e._v(" "),v("li",[e._v("调用操作接口以填充对象的参数；")])]),e._v(" "),v("p",[e._v("这些方法底层都依赖于类型转换器管理器  "),v("code",[e._v("ConverterManager")]),e._v(" 来实现参数的自动转换。换句话说，如果方法的参数类型是 A，而输入的参数类型是 B，"),v("code",[e._v("ConverterManager")]),e._v(" 将会自动尝试将 B 转换为 A 类型。")]),e._v(" "),v("p",[v("code",[e._v("ConverterManager")]),e._v(" 目前提供了三套实现：")]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("转换器")]),e._v(" "),v("th",[e._v("说明")]),e._v(" "),v("th",[e._v("使用情况")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("SimpleConverterManager")])]),e._v(" "),v("td",[e._v("直接通过 "),v("code",[e._v("(R)t")]),e._v(" 这种方式强转，作用有限")]),e._v(" "),v("td",[e._v("基本只在测试用例中使用")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("HutoolConverterManager")])]),e._v(" "),v("td",[e._v("基于 Hutool 的 "),v("code",[e._v("Convert")]),e._v(" 实现，参见 Hutool 参考文档中的 "),v("a",{attrs:{href:"https://hutool.cn/docs/#/core/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-ConverterRegistry?id=%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2-converterregistry",target:"_blank",rel:"noopener noreferrer"}},[e._v("自定义类型转换-ConverterRegistry"),v("OutboundLink")],1),e._v(" 一节")]),e._v(" "),v("td",[e._v("在非 spring 环境中使用")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("SpringConverterManager")])]),e._v(" "),v("td",[e._v("基于 spring 的 "),v("code",[e._v("ConversionService")]),e._v(" 实现，功能强大")]),e._v(" "),v("td",[e._v("在 spring 环境下使用")])])])]),e._v(" "),v("p",[e._v("你也可以实现 "),v("code",[e._v("ConverterManager")]),e._v(" 接口，")])])}),[],!1,null,null,null);v.default=_.exports}}]);