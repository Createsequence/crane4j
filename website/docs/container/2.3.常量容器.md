## 2.3.1.基本使用

通过 `ConstantContainer.forConstantClass` 方法将常量类定义为一个数据源容器：

~~~java
@ContainerConstant
public static class FooConstant {
    public static final String ONE = "one";
    public static final String TWO = "two";
    public static final String THREE = "three";
}

// 使用 ConstantContainer.forConstantClass 方法构建容器
// 容器缓存的数据为： {"ONE" = "one"}, {"TWO" = "two"}, {"THREE" = "three"}
Container<String> container = ConstantContainer.forConstantClass(FooConstant.class, new SimpleAnnotationFinder()); 
~~~

## 2.3.2.可选注解

同样的，我们也支持通过注解去配置容器的一些更具体的参数：

~~~java
@ContainerConstant(
    namespace = "foo", // 指定命名空间
    onlyExplicitlyIncluded = true,  // 是否只保存带有 @Include 注解的属性
    onlyPublic = false // 是否只保存公共变量
)
public static class FooConstant2 {
    @ContainerConstant.Include      // onlyExplicitlyIncluded 为 true 时，仅包含带有该注解的属性
    public static final String ONE = "one";
    @ContainerConstant.Exclude      // 默认情况下排除该属性
    public static final String TWO = "two";
    @ContainerConstant.Name("THREE") // 指定key名称为“THREE”
    private static final String SAN = "three";
}
~~~

这里我们给出了一些可选的配置：

- `namespace`：构建的容器的命名空间；
- `onlyExplicitlyIncluded`：是否只保存带有 @Include 注解的属性；
- `onlyPublic`：是否只保存公共变量；

此外，这里也参照 `Lombok` 给出了一些内部注解用来配合达到一些特殊的效果：

- `@ContainerConstant.Include`：配合 `onlyExplicitlyIncluded` 属性，声明该常量属性需要被保留；
- `@ContainerConstant.Name`：声明该常量属性被注册到容器后，使用注解指定的名称代替属性名；

**反转键值对**

除上述基本配置外，还有一个比较特殊的 `reverse` 属性，将其设置为 `true` 后，可以将常量属性名与常量属性值的反转，比如：

```java
@ContainerConstant(reverse = true)
public static class FooConstant {
    public static final String ONE = "one";
    public static final String TWO = "two";
    public static final String THREE = "three";
}
```

在上述示例中，通过 `reverse` 属性声明了键值反转，则基于该常量类构建的容器，可以通过属性值获得属性名，比如输入 `one`，则得到的对应数据源对象为属性名 `ONE`。

## 2.3.3.自动扫描

此外，基于常量类的数据源可以手动配置，也可以在配置文件中配置扫描路径 `crane4j.container-constant-packages`：

~~~yml
crane4j:
 # 扫描指定包路径，将该路径下被注解的常量适配并注册为数据源容器
 container-constant-packages: cn.createsequence.crane4j.springboot.config.*
~~~

上述路径下被扫描到的常量类将会被适配为数据源容器，并自动注册。